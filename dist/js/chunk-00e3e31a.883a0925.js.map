{"version":3,"sources":["webpack:///./src/modules/crowdsale/view/Crowdsale.vue?cf14","webpack:///./src/modules/crowdsale/view/Crowdsale.vue","webpack:///./src/modules/crowdsale/view/Crowdsale.vue?7666","webpack:///./src/modules/crowdsale/view/Crowdsale.vue?c71d","webpack:///./src/modules/crowdsale/view/Crowdsale.vue?5a76"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","_s","getRoundNumber","getStatus","$t","_e","isFinish","_f","roundCurrent","fromDate","time","toDate","staticStyle","percentageSold","totalAmount","attrs","progressbar","getColor","totalSold","totalAvailable","price","totalBacker","_l","tab","key","id","class","$route","routeName","on","$event","handleChangeTab","staticRenderFns","bcAuth","tabs","title","listener","listRound","isEndOn","timing","day","hour","minute","second","isLoading","countDownDate","index","elm","length","isActive","checkPemission","handleTurnOnFirebase","listModuleCanView","module","$router","push","leadsRef","firebase","ref","_this","snapshot","val","roundActive","round","handleGetData","handleGetRoundNext","off","roundFirst","roundLast","toDay","Date","now","fromTimeRoundFirst","getTime","toTimeRoundLast","fromTime","type","setInterval","distance","console","log","getIsEndRound","clearInterval","Math","floor","color","Getter","component"],"mappings":"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","file":"js/chunk-00e3e31a.883a0925.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"w-100 bo-crowdsale\"},[_c('div',{staticClass:\"box-content-1\"},[_c('div',{staticClass:\"round bg-white box-shadow\"},[_c('div',{staticClass:\"head\"},[_c('div',{staticClass:\"fw-600 fs-24 title\"},[_vm._v(_vm._s(_vm.getRoundNumber))]),(_vm.getStatus === 1)?_c('div',{staticClass:\"box-status\"},[_vm._v(_vm._s(_vm.$t('crowdsale.opening')))]):_vm._e(),(_vm.getStatus !== 1 && _vm.isFinish)?_c('div',{staticClass:\"box-status finish\"},[_vm._v(_vm._s(_vm.$t('crowdsale.finish')))]):_vm._e(),(_vm.getStatus !== 1 && !_vm.isFinish)?_c('div',{staticClass:\"box-status upcoming\"},[_vm._v(_vm._s(_vm.$t('crowdsale.upcoming')))]):_vm._e()]),_c('p',{staticClass:\"fw-400 fs-16 time-date\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatDDMMYY\")(_vm.roundCurrent && _vm.roundCurrent.fromDate && _vm.roundCurrent.fromDate.time))+\" - \"+_vm._s(_vm._f(\"formatDDMMYY\")(_vm.roundCurrent && _vm.roundCurrent.toDate && _vm.roundCurrent.toDate.time))+\" \")]),_c('div',{staticClass:\"box-ellipse\"},[_c('div',{staticClass:\"mini-ellipse\"},[(_vm.getStatus === 1)?_c('p',{staticClass:\"fw-600 fs-24 percentageSold\",staticStyle:{\"margin-bottom\":\"2px\",\"margin-top\":\"24px\"}},[_vm._v(\" \"+_vm._s((_vm.roundCurrent && _vm.roundCurrent.percentageSold * 1000) / 10)+\"% \")]):_vm._e(),(_vm.getStatus !== 1 && _vm.isFinish)?_c('p',{staticClass:\"fw-600 fs-24 percentageSold percentageSoldFinish\",staticStyle:{\"margin-bottom\":\"2px\",\"margin-top\":\"24px\"}},[_vm._v(\" \"+_vm._s((_vm.roundCurrent && _vm.roundCurrent.percentageSold * 1000) / 10)+\"% \")]):_vm._e(),(_vm.getStatus !== 1 && !_vm.isFinish)?_c('p',{staticClass:\"fw-600 fs-24 percentageSold percentageSoldUpcoming\",staticStyle:{\"margin-bottom\":\"2px\",\"margin-top\":\"24px\"}},[_vm._v(\" \"+_vm._s((_vm.roundCurrent && _vm.roundCurrent.percentageSold * 1000) / 10)+\"% \")]):_vm._e(),_c('p',{staticClass:\"fw-400 fs-12\",staticStyle:{\"color\":\"#5b616e\"}},[_vm._v(\" \"+_vm._s(_vm.$t('crowdsale.of'))+\" \"),_c('span',{staticClass:\"fw-600\"},[_vm._v(_vm._s((_vm.roundCurrent && _vm.roundCurrent.totalAmount) / 1000000)+\"M\")])])]),(_vm.getStatus === 1)?_c('el-progress',{attrs:{\"type\":\"circle\",\"percentage\":_vm.progressbar,\"stroke-width\":12,\"color\":_vm.getColor,\"show-text\":false}}):_vm._e(),(_vm.getStatus !== 1 && _vm.isFinish)?_c('el-progress',{attrs:{\"type\":\"circle\",\"percentage\":_vm.progressbar,\"stroke-width\":12,\"color\":\"#129961\",\"show-text\":false}}):_vm._e(),(_vm.getStatus !== 1 && !_vm.isFinish)?_c('el-progress',{attrs:{\"type\":\"circle\",\"percentage\":_vm.progressbar,\"stroke-width\":12,\"color\":\"#5B616E\",\"show-text\":false}}):_vm._e()],1)]),_c('div',{staticClass:\"progress bg-white box-shadow\"},[_c('p',{staticClass:\"fw-600 fs-24 title\"},[_vm._v(_vm._s(_vm.$t('crowdsale.progress')))]),_c('p',{staticClass:\"fw-400 fs-16 discript\"},[_vm._v(\" \"+_vm._s(_vm.$t('crowdsale.from'))+\" \"+_vm._s(_vm._f(\"formatDDMMYY\")(_vm.roundCurrent && _vm.roundCurrent.fromDate && _vm.roundCurrent.fromDate.time))+\" \"+_vm._s(_vm.$t('crowdsale.now'))+\" \")]),_c('div',{staticClass:\"box-content\"},[_c('div',{staticClass:\"box-left fw-400 fs-14\"},[_vm._v(_vm._s(_vm._f(\"formatNumber\")(_vm.roundCurrent && _vm.roundCurrent.totalSold))+\" \"+_vm._s(_vm.$t('crowdsale.sold')))]),_c('div',{staticClass:\"box-right fw-400 fs-14\"},[_vm._v(_vm._s(_vm._f(\"formatNumber\")(_vm.roundCurrent && _vm.roundCurrent.totalAvailable))+\" \"+_vm._s(_vm.$t('crowdsale.left')))])]),_c('el-progress',{attrs:{\"type\":\"line\",\"percentage\":_vm.progressbar,\"stroke-width\":20,\"color\":\"#129961\",\"show-text\":false}}),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"box1 box\"},[_c('p',{staticClass:\"fw-600 fs-18 price\"},[_vm._v(_vm._s((_vm.roundCurrent && _vm.roundCurrent.percentageSold * 1000) / 10)+\"%\")]),_c('p',{staticClass:\"fw-400 fs-14\"},[_vm._v(_vm._s(_vm.$t('crowdsale.completed')))])]),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"box2 box\"},[_c('p',{staticClass:\"fw-600 fs-18 price\"},[_vm._v(\"$\"+_vm._s(_vm._f(\"convertAmountDecimal\")(_vm.roundCurrent && (_vm.roundCurrent.totalSold * _vm.roundCurrent.price),'USD')))]),_c('p',{staticClass:\"fw-400 fs-14\"},[_vm._v(_vm._s(_vm.$t('crowdsale.raised')))])]),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"box3 box\"},[_c('p',{staticClass:\"fw-600 fs-18 price\"},[_vm._v(_vm._s(_vm._f(\"formatNumber\")(_vm.roundCurrent && _vm.roundCurrent.totalBacker)))]),_c('p',{staticClass:\"fw-400 fs-14\"},[_vm._v(_vm._s(_vm.$t('crowdsale.backers')))])])])],1)]),_c('div',{staticClass:\"table bg-white box-shadow\"},[_c('div',{staticClass:\"wallet-header\"},[_c('div',{staticClass:\"be-flex align-center jc-space-between wallet-header__above\"},[_c('div',{staticClass:\"wallet-header__above-tabs be-flex\"},_vm._l((_vm.tabs),function(tab){return _c('div',{key:tab.id,staticClass:\"tab-item cursor\",class:_vm.$route.name === tab.routeName ? 'tab-active' : null,on:{\"click\":function($event){return _vm.handleChangeTab(tab)}}},[_c('span',{staticClass:\"text-base\"},[_vm._v(_vm._s(_vm.$t((\"crowdsale.\" + (tab.title)))))])])}),0)])]),_c('div',{staticClass:\"box-table\"},[_c('router-view')],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator'\nimport firebase from '@/utils/firebase'\nimport { filter, findIndex, forEach } from 'lodash'\nimport { namespace } from 'vuex-class'\nimport { MODULE_WITH_ROUTENAME } from '@/configs/role'\n\nconst bcAuth = namespace('beAuth')\n\n@Component\nexport default class BOCrowdsale extends Vue {\n  @bcAuth.Getter('listModuleCanView') listModuleCanView!: Array<Record<string, any>>\n\n  tabs: Array<Record<string, any>> = [\n    {\n      id: 1,\n      title: 'transactions',\n      routeName: 'CrowdsaleTransactions'\n    },\n    {\n      id: 2,\n      title: 'round',\n      routeName: 'CrowdsaleRound'\n    }\n  ]\n  listener: any = null\n  listRound: Record<string, any>[] = []\n  roundCurrent: Record<string, any> | any = {}\n  isEndOn = false\n  progressbar = 0\n  timing: any = null\n  day: string | number = 0\n  hour: string | number = 0\n  minute: string | number = 0\n  second: string | number = 0\n  isLoading = true\n  countDownDate = 0\n  isFinish = false\n\n  get getIsEndRound(): boolean {\n    const index = findIndex(this.listRound, elm => elm.id === this.roundCurrent.id)\n    if (index === this.listRound.length - 1) {\n      return true\n    }\n    return false\n  }\n  get getRoundNumber(): string {\n    return this.roundCurrent?.name\n  }\n  get getStatus(): string {\n    return this.roundCurrent?.isActive\n  }\n  created(): void {\n    if (!this.checkPemission('crowd-sale', ['view'])) {\n      const routeName = MODULE_WITH_ROUTENAME[this.listModuleCanView[0].module]\n      this.$router.push({ name: routeName })\n      return\n    }\n    this.handleTurnOnFirebase()\n  }\n  handleTurnOnFirebase(): void {\n    const leadsRef = firebase.ref('crowd-sales')\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let _this = this\n    this.listener = leadsRef.on('value', function (snapshot) {\n      _this.listRound = snapshot.val()\n      const roundActive = filter(snapshot.val(), round => round.isActive)\n\n      if (!roundActive.length) {\n        _this.roundCurrent = null\n        _this.isEndOn = false\n        _this.isFinish = false\n        _this.handleGetRoundNext()\n      } else {\n        _this.isFinish = false\n        _this.roundCurrent = roundActive[0]\n        _this.isEndOn = true\n        _this.progressbar = (_this.roundCurrent.percentageSold * 1000) / 10\n        _this.handleGetData()\n      }\n    })\n  }\n  handleGetRoundNext(): void {\n    const leadsRef = firebase.ref('crowd-sales')\n    leadsRef.off('value', this.listener)\n\n    /**\n     * Nếu response là round cuối\n     * response là null <=> chưa vào round nào => lấy round 1\n     */\n\n    if (!this.roundCurrent) {\n      const roundFirst = this.listRound[0]\n      const roundLast = this.listRound[this.listRound.length - 1]\n\n      const toDay = Date.now()\n      const fromTimeRoundFirst = new Date(roundFirst.fromDate.time).getTime()\n      const toTimeRoundLast = new Date(roundLast.toDate.time).getTime()\n\n      // Nếu today > time roundLast\n      if (toDay > toTimeRoundLast) {\n        this.day = '00'\n        this.hour = '00'\n        this.minute = '00'\n        this.second = '00'\n        this.roundCurrent = roundLast\n        this.progressbar = (this.roundCurrent.percentageSold * 1000) / 10\n        this.isEndOn = true\n        this.isLoading = false\n        this.isFinish = true\n      }\n      // Nếu today < time roundFirst\n      if (toDay < fromTimeRoundFirst) {\n        this.roundCurrent = this.listRound[0]\n        this.progressbar = (this.roundCurrent.percentageSold * 1000) / 10\n        this.handleGetData('from')\n      }\n      // Nếu fromTimeRoundFirst < today < toTimeRoundLast\n      if (toDay > fromTimeRoundFirst && toDay < toTimeRoundLast) {\n        forEach(this.listRound, round => {\n          const fromTime = new Date(round.fromDate.time).getTime()\n          if (toDay < fromTime) {\n            this.roundCurrent = round\n            return false\n          }\n        })\n        this.isEndOn = false\n        this.progressbar = (this.roundCurrent.percentageSold * 1000) / 10\n        this.handleGetData('from')\n      }\n    }\n  }\n  handleGetData(type = 'to'): void {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let _this = this\n    this.countDownDate = type === 'to' ? new Date(this.roundCurrent.toDate.time).getTime() : new Date(this.roundCurrent.fromDate.time).getTime()\n\n    this.timing = setInterval(function () {\n      let now = new Date().getTime()\n\n      let distance = _this.countDownDate - now\n\n      //case ready start chạy hết time\n      if (distance <= 0 && !_this.isEndOn) {\n        console.log('vao day 1')\n        _this.countDownDate = new Date(_this.roundCurrent.toDate.time).getTime()\n        _this.handleTurnOnFirebase()\n        _this.isEndOn = true\n        _this.isLoading = false\n      }\n\n      //case chạy hết time end on và không phải round cuối\n      if (distance <= 0 && _this.isEndOn && !_this.getIsEndRound) {\n        _this.isLoading = true\n        _this.handleTurnOnFirebase()\n        _this.isEndOn = true\n        _this.isLoading = false\n        return\n      }\n\n      //case round cuối và hết hạn\n      if (distance <= 0 && _this.isEndOn && _this.getIsEndRound) {\n        clearInterval(_this.timing)\n        const leadsRef = firebase.ref('crowd-sales')\n        leadsRef.off('value', _this.listener)\n        _this.isLoading = false\n        return\n      }\n\n      _this.day = Math.floor(distance / (1000 * 60 * 60 * 24)) >= 10 ? Math.floor(distance / (1000 * 60 * 60 * 24)) : '0' + Math.floor(distance / (1000 * 60 * 60 * 24))\n      _this.hour =\n        Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) >= 10\n          ? Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n          : '0' + Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n      _this.minute =\n        Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)) >= 10\n          ? Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))\n          : '0' + Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))\n      _this.second = Math.floor((distance % (1000 * 60)) / 1000) >= 10 ? Math.floor((distance % (1000 * 60)) / 1000) : '0' + Math.floor((distance % (1000 * 60)) / 1000)\n    }, 1000)\n    this.isLoading = false\n  }\n\n  destroyed(): void {\n    const leadsRef = firebase.ref('crowd-sales')\n    leadsRef.off('value', this.listener)\n  }\n\n  handleChangeTab(tab: Record<string, any>): void {\n    this.$router.push({ name: tab.routeName })\n  }\n  getColor(): void {\n    let color: any = '#31b6b5'\n    return color\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Crowdsale.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Crowdsale.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Crowdsale.vue?vue&type=template&id=6ed24d64&scoped=true&\"\nimport script from \"./Crowdsale.vue?vue&type=script&lang=ts&\"\nexport * from \"./Crowdsale.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Crowdsale.vue?vue&type=style&index=0&id=6ed24d64&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ed24d64\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Crowdsale.vue?vue&type=style&index=0&id=6ed24d64&scoped=true&lang=scss&\""],"sourceRoot":""}